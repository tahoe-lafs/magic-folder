<html xmlns:n="http://nevow.com/ns/nevow/0.1">
  <head>
    <title>Tahoe-LAFS - Storage Server Status</title>
    <link href="/tahoe.css" rel="stylesheet" type="text/css"/>
    <link href="/icon.png" rel="shortcut icon" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
<body>

<div n:render="storage_running">

  <h1>Storage Server Status</h1>

  <table n:data="stats">
    <tr><td>Total disk space:</td>
        <td><span n:render="abbrev_space" n:data="disk_total" /></td>
        <td>(<span n:render="space" n:data="disk_total" />)</td>
        <td />
      </tr>
    <tr><td>Disk space used:</td>
        <td>- <span n:render="abbrev_space" n:data="disk_used" /></td>
        <td>(<span n:render="space" n:data="disk_used" />)</td>
        <td />
      </tr>
    <tr><td />
        <td>======</td>
        <td />
        <td />
      </tr>
    <tr><td>Disk space free (root):</td>
        <td><span n:render="abbrev_space" n:data="disk_free_for_root"/></td>
        <td>(<span n:render="space" n:data="disk_free_for_root"/>)</td>
        <td>[see 1]</td>
        </tr>
    <tr><td>Disk space free (non-root):</td>
        <td><span n:render="abbrev_space" n:data="disk_free_for_nonroot" /></td>
        <td>(<span n:render="space" n:data="disk_free_for_nonroot" />)</td>
        <td>[see 2]</td>
        </tr>
    <tr><td>Reserved space:</td>
        <td>- <span n:render="abbrev_space" n:data="reserved_space" /></td>
        <td>(<span n:render="space" n:data="reserved_space" />)</td>
        <td />
      </tr>
    <tr><td />
        <td>======</td>
        <td />
        <td />
      </tr>
    <tr><td>Space Available to Tahoe:</td>
        <td><span n:render="abbrev_space" n:data="disk_avail" /></td>
        <td>(<span n:render="space" n:data="disk_avail" />)</td>
        <td />
      </tr>
  </table>

  <ul>
    <li>Server Nickname: <span class="nickname mine" n:render="data" n:data="nickname" /></li>
    <li>Server Nodeid: <span class="nodeid mine data-chars" n:render="string" n:data="nodeid" /></li>
    <li n:data="stats">Accepting new shares:
     <span n:render="bool" n:data="accepting_immutable_shares" /></li>
    <li>Total buckets:
       <span n:render="string" n:data="last_complete_bucket_count" />
       (the number of files and directories for which this server is holding
        a share)
      <ul>
        <li n:render="count_crawler_status" />
      </ul>
    </li>
  </ul>

  <h2>Lease Expiration Crawler</h2>

  <ul>
    <li>Expiration <span n:render="lease_expiration_enabled" /></li>
    <li n:render="lease_expiration_mode" />
    <li n:render="lease_current_cycle_progress" />
    <li n:render="lease_current_cycle_results" />
    <li n:render="lease_last_cycle_results" />
  </ul>

  <hr />
  <p>[1]: Some of this space may be reserved for the superuser.</p>
  <p>[2]: This reports the space available to non-root users, including the
  Tahoe-LAFS node.</p>

  <p>See this page <a href="?t=json">in JSON</a></p>
</div>

</body>
</html>
